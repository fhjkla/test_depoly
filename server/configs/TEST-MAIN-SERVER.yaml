spring:
  #邮箱配置
  mail:
    host: smtp.office365.com
    port: 587
    username: admin@between777.onmicrosoft.com
    password: Regtoq-2hacko-kebhac
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
  # DataSource Config
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://[HOST:TEST-DB+REDIS]:[VAR:DB_PORT]/fury?useUnicode=true&useSSL=false&characterEncoding=utf8&serverTimezone=Asia/Shanghai&allowMultiQueries=true
    username: root
    password: [VAR:DB_PWD]
    #数据库连接池切换为druid
    hikari:
      # 连接池最大连接数，默认是 10
      maximum-pool-size: 60
      # 链接超时时间，默认 30000(30 秒)
      connection-timeout: 60000
      # 空闲连接存活最大时间，默认 600000(10 分钟)
      idle-timeout: 60000
      # 连接将被测试活动的最大时间量
      validation-timeout: 3000
      # 此属性控制池中连接的最长生命周期，值 0 表示无限生命周期，默认 1800000(30 分钟)
      max-lifetime: 60000
      # 连接到数据库时等待的最长时间(秒)
      login-timeout: 5
      # 池中维护的最小空闲连接数
      minimum-idle: 10
  application:
    # 应用服务名
    name: GAM
  redis:
    host: [HOST:TEST-DB+REDIS]
    port: [VAR:REDIS_PORT]
    password: [VAR:REDIS_PWD]
    database: 0

mybatis-plus:
  mapper-locations: classpath*:/mapper/**Mapper.xml
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
server:
  port: 80

shiro-redis:
  enabled: true
  redis-manager:
    host: [HOST:TEST-DB+REDIS]:[VAR:REDIS_PORT]
    password: [VAR:REDIS_PWD]
markerhub:
  jwt:
    secret: f4e2e52034348f86b67cde581c0f9eb5
    expire: 604800
    header: Authorization

dubbo:
  application:
    name: gam-service
  registry:
    protocol: zookeeper
    address: [HOST:TEST-2FE+ZK+TIMER]:[VAR:ZK_PORT]
  protocol:
    name: dubbo
    port: 20886
  metadata-report:
    timeout: 20000
  config-center:
    timeout: 20000

management:
  endpoints:
    web:
      exposure:
        include: "*"
  metrics:
    tags:
      application: ${spring.application.name}

#xxl-job配置
## 调度中心部署根地址 [选填]：如调度中心集群部署存在多个地址则用逗号分隔。执行器将会使用该地址进行"执行器心跳注册"和"任务结果回调"；为空则关闭自动注册；
xxl:
  job:
    admin:
      addresses: http://[HOST:TEST-2FE+ZK+TIMER]:[VAR:TIMER_ADMIN_PORT]/xxl-job-admin
    accessToken: default_token
    executor:
      appname: fury-game
      address:
      ip:
      port: [VAR:TIMER_PORT]
      logpath: /data/applogs/xxl-job/jobhandler
      logretentiondays: 30

#sentry
sentry:
  dsn: https://8fdc65bee93bfb111b117553009add16@o4506580050313216.ingest.sentry.io/4506580189511680
  # Set traces-sample-rate to 1.0 to capture 100% of transactions for performance monitoring.
  # We recommend adjusting this value in production.
  traces-sample-rate: 1.0
#logging:
#  level:
#    root: DEBUG
